{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/zkn/Downloads/sabr/sabrotortas-landing/app/api/sendEmail/route.js"],"sourcesContent":["import nodemailer from 'nodemailer'\r\n\r\nexport async function POST(request) {\r\n    try {\r\n        const { nombre, telefono, email, servicio, fecha, mensaje } = await request.json()\r\n\r\n        // Configurar transporte de email (usando Gmail u otro proveedor)\r\n        // Reemplaza con tus credenciales reales\r\n        const transporter = nodemailer.createTransport({\r\n            service: 'gmail',\r\n            auth: {\r\n                user: process.env.EMAIL_USER,\r\n                pass: process.env.EMAIL_PASS\r\n            }\r\n        })\r\n\r\n        // Email al administrador\r\n        const mailOptions = {\r\n            from: process.env.EMAIL_USER,\r\n            to: 'caffemanagement@gmail.com',\r\n            subject: `Nueva Solicitud de Cotización - ${nombre}`,\r\n            html: `\r\n        <h2>Nueva Solicitud de Cotización</h2>\r\n        <p><strong>Nombre:</strong> ${nombre}</p>\r\n        <p><strong>Email:</strong> ${email}</p>\r\n        <p><strong>Teléfono:</strong> ${telefono}</p>\r\n        <p><strong>Servicio:</strong> ${servicio}</p>\r\n        <p><strong>Fecha del Evento:</strong> ${fecha || 'No especificada'}</p>\r\n        <p><strong>Mensaje:</strong></p>\r\n        <p>${mensaje}</p>\r\n        <hr>\r\n        <p><em>Responde a: ${email}</em></p>\r\n      `\r\n        }\r\n\r\n        // Enviar email\r\n        await transporter.sendMail(mailOptions)\r\n\r\n        return Response.json(\r\n            { message: 'Email enviado exitosamente' },\r\n            { status: 200 }\r\n        )\r\n    } catch (error) {\r\n        console.error('Error enviando email:', error)\r\n        return Response.json(\r\n            { error: 'Error al enviar el email' },\r\n            { status: 500 }\r\n        )\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEhF,iEAAiE;QACjE,wCAAwC;QACxC,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC3C,SAAS;YACT,MAAM;gBACF,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU;YAChC;QACJ;QAEA,yBAAyB;QACzB,MAAM,cAAc;YAChB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS,CAAC,gCAAgC,EAAE,QAAQ;YACpD,MAAM,CAAC;;oCAEiB,EAAE,OAAO;mCACV,EAAE,MAAM;sCACL,EAAE,SAAS;sCACX,EAAE,SAAS;8CACH,EAAE,SAAS,kBAAkB;;WAEhE,EAAE,QAAQ;;2BAEM,EAAE,MAAM;MAC7B,CAAC;QACC;QAEA,eAAe;QACf,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,SAAS,IAAI,CAChB;YAAE,SAAS;QAA6B,GACxC;YAAE,QAAQ;QAAI;IAEtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,SAAS,IAAI,CAChB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}